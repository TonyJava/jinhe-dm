<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML XMLNS:WorkSpace>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>它山石-- test workspace</title>

<link rel=stylesheet type=text/css href=workspace.css>

<style>
body, td{
	font-size:12px;
	/*line-height:14px;*/
}
</style>

<script language="javascript" src="../../test/debug.js"></script>

<script language="javascript" src="../core.js"></script>
<script language="javascript" src="../framework.js"></script>
<script language="javascript" src="../balloon/balloon.js"></script>
<script language="javascript" src="workspace.js"></script>
 
<SCRIPT LANGUAGE="JavaScript">
<!--

	var ws;
	window.onload = function () {
		  ws = new WorkSpace($("ws"));

		  var inf = {};
		  inf.label = "页面1";
		  inf.SID = "page1"
		  inf.defaultPage = "page1";

			var phases = [];
			phases[0] = {page: "page1", label: "编辑组信息"};
			phases[1] = {page: "page2", label: "组对用户"};
			phases[2] = {page: "page3", label: "组对角色"};
		  inf.phases = phases;
		  inf.callback = null;

		  ws.open(inf);
	}

	function switchPage(i) {
			var list = ["page1", "page2"];

			var inf = {SID: list[i]};
			ws.open(inf);

			var tab = ws.getActiveTab();
			addToHistory(tab);
	}

	function addToHistory(tab) {
			if(null == window.tabHistory){
					window.tabHistory = [];
			}
			window.tabHistory.push(tab);
	}

	function openNewTab() {
			var inf = {};
		  inf.label = "页面2";
		  inf.SID = "page2"
		  inf.defaultPage = "page2";

			var phases = [];
			phases[0] = {page: "page1", label: "第一步"};
			phases[1] = {page: "page2", label: "第二步"};
			phases[2] = {page: "page3", label: "第三步"};
		  inf.phases = phases;
		  inf.callback = null;

		  ws.open(inf);
	}

	function back() {
			if( window.tabHistory ) {
					var tab = window.tabHistory[0];
					alert(tab)
					tab.click();
			}
	}
	
//-->
</SCRIPT>
</HEAD>

<BODY>
  <TABLE width="80%" height="80%" border="1" cellpadding=0>
    <TR>
      <TD width="100" height="100">&nbsp;</TD>
      <TD>
				<INPUT TYPE="button" value="open" onclick="openNewTab()"/>
				<INPUT TYPE="button" value="switch" onclick="switchPage(0)"/>
				<INPUT TYPE="button" value="innerHTML" onclick="alert($('ws').innerHTML)"/>
				<INPUT TYPE="button" value="back" onclick="back()"/>
		  </TD>
    </TR>

    <TR>
      <TD>&nbsp;</TD>
      <TD valign = "top">
				<WorkSpace:Box id="ws">
					<WorkSpace:Page id = "page1">
						page1<br/>
						<a href=# onclick="ws.prevTab(true)">上一标签</a><br/>
						<a href=# onclick="ws.nextTab(true)">下一标签</a><br/>
					</WorkSpace:Page>

					<WorkSpace:Page id = "page2">
						page2<br/>
						<a href=# onclick="ws.prevTab(true)">上一标签</a><br/>
						<a href=# onclick="ws.nextTab(true)">下一标签</a><br/>
						<a href=# onclick="ws.prevPhase(true)">上一步</a><br/>
						<a href=# onclick="ws.nextPhase(true)">下一步</a><br/>
					</WorkSpace:Page>

				</WorkSpace:Box>
			</TD>
    </TR>
  </TABLE>
</BODY>
</HTML>
